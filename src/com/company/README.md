TODO: ensure that number generator doesn't produce duplicates